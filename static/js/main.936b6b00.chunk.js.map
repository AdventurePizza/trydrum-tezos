{"version":3,"sources":["assets/drum.svg","assets/green_dot.png","assets/soundOn.png","assets/soundOff.png","assets/drumbeat.mp3","assets/musical-note.svg","firebaseContext.tsx","Cursor.tsx","App.tsx","assets/scroll.png","reportWebVitals.ts","Analytics.tsx","index.tsx"],"names":["FirebaseContext","React","createContext","firebaseUpdateDrumCount","Promise","resolve","isSuccessful","getDrumCount","claim","syncRewards","getDrumBalance","getBlockchainMessage","getProfile","setProfile","getBgColorFirebase","setBgColorFirebase","getVisit","setVisit","fetchBase","FirebaseProvider","children","useCallback","amt","address","a","fetch","method","headers","body","JSON","stringify","fetchRes","ok","message","statusText","json","tempAddress","username","avatar","colorIndex","dayIndex","Provider","value","useStyles","makeStyles","theme","createStyles","root","display","sizeBig","width","spacing","height","sizeSmall","Cursor","props","userCursorRef","classes","ref","className","style","position","overflow","Avatar","variant","src","alt","textAlign","defaultProps","shouldShowIsActive","Cursors","x","y","top","left","socketURL","window","location","hostname","socket","io","transports","dAppClient","DAppClient","name","tempId","uuidv4","versionNames","playlist","url","bgColors","App","useState","activeAccount","setActiveAccount","drumRef","createRef","audioRef","_audioRef","useRef","musicRef","_musicRef","toUpdateCountRef","notes","setNotes","hasClickedDrum","setHasClickedDrum","useContext","drumCount","setDrumCount","enqueueSnackbar","useSnackbar","noteCoords","setNoteCoords","synced","setSynced","showUnsync","setShowUnsync","drumReward","setDrumReward","isMobile","innerWidth","showTransactions","setShowTransactions","transactions","setTransactions","drumBalance","setDrumBalance","version","setVersion","isPlaying","setIsPlaying","showInput","setShowInput","setMessage","inputValue","setInputValue","showPanel","setShowPanel","collections","setCollections","setUsername","setAvatar","userLocations","setUserLocations","bgColor","setBgColor","emit","useEffect","timestamp","Date","now","Math","floor","toString","then","res","prevColor","fetchBgColor","onCursorMove","clientId","clientProfile","innerHeight","absoluteX","absoluteY","onRoomateDisconnect","newUserLocations","onBgColorChange","on","off","fetchGraphQL","operationsDoc","operationName","variables","query","result","ress","addr","query_collection","errors","data","console","error","hic_et_nunc_token_holder","fetchCollection","HashToURL","hash","type","undefined","replace","subdomain","ipfsClient","CID","toV1","toBaseEncodedString","err","updateCursorPosition","useMemo","_","throttle","onMouseMove","event","clientX","clientY","current","addEventListener","max","length","random","currentIndex","setCurrentIndex","onUnload","e","preventDefault","getDomain","reverseRecord","domain","play","pause","getActiveAccount","slice","balance","getAcc","fetchDrumBalance","fetchBlockchainMessage","setCoords","rect","getBoundingClientRect","count","onDrumbeat","currentTime","concat","key","removeEventListener","updateDrumCount","clearActiveAccount","sync","permissions","updatedBalance","log","requestPermissions","claimRewards","newTransaction","link","color","transaction","success","onClick","open","amount","onKeyPressChat","requestOperation","operationDetails","kind","TezosOperationType","TRANSACTION","destination","parameters","entrypoint","string","transactionHash","minHeight","overflowX","overflowY","backgroundColor","drumBeat","autoPlay","muted","onEnded","Object","entries","map","fontSize","alignItems","paddingInline","Select","label","onChange","target","MenuItem","title","greenDot","Button","size","TextField","id","fullWidth","onKeyPress","paddingRight","paddingTop","drum","TransitionGroup","note","CSSTransition","timeout","classNames","onEntered","noteIndex","findIndex","_note","musicNote","marginBottom","token","IconButton","display_uri","border","marginRight","justifyContent","reverse","index","padding","soundOn","soundOff","unsync","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","Analytics","todays","setTodays","lastWeek","setlastWeek","lastMonth","setlastMonth","tempWeek","tempMonth","forEach","element","visits","fetchVisits","ReactDOM","render","maxSnack","path","document","getElementById"],"mappings":"onBAAe,MAA0B,iCCA1B,MAA0B,sCCA1B,MAA0B,oCCA1B,MAA0B,qCCA1B,MAA0B,qCCA1B,MAA0B,yC,4CCuB5BA,EAAkBC,IAAMC,cAAgC,CACpEC,wBAAyB,kBAAMC,QAAQC,QAAQ,CAAEC,cAAc,KAC/DC,aAAc,kBAAMH,QAAQC,QAAQ,CAAEC,cAAc,KACpDE,MAAO,kBAAMJ,QAAQC,QAAQ,CAAEC,cAAc,KAC7CG,YAAa,kBAAML,QAAQC,QAAQ,CAAEC,cAAc,KACnDI,eAAgB,kBAAMN,QAAQC,QAAQ,CAAEC,cAAc,KACtDK,qBAAsB,kBAAMP,QAAQC,QAAQ,CAAEC,cAAc,KAC5DM,WAAY,kBAAMR,QAAQC,QAAQ,CAAEC,cAAc,KAClDO,WAAY,kBAAMT,QAAQC,QAAQ,CAAEC,cAAc,KAElDQ,mBAAoB,kBAAMV,QAAQC,QAAQ,CAAEC,cAAc,KAC1DS,mBAAoB,kBAAMX,QAAQC,QAAQ,CAAEC,cAAc,KAE1DU,SAAU,kBAAMZ,QAAQC,QAAQ,CAAEC,cAAc,KAChDW,SAAU,kBAAMb,QAAQC,QAAQ,CAAEC,cAAc,OAG3CY,EAGF,2CAGSC,EAA6B,SAAC,GAAkB,IAAhBC,EAAe,EAAfA,SAEtCjB,EAA0BkB,sBAAW,uCAC1C,WAAOC,EAAaC,GAApB,eAAAC,EAAA,sEACwBC,MAAMP,EAAS,sBAAkBK,GAAW,CAClEG,OAAQ,OACRC,QAAS,CACR,eAAgB,oBAEjBC,KAAMC,KAAKC,UAAU,CAAER,IAAKA,MAN9B,YACOS,EADP,QAScC,GATd,yCAUS,CAAE1B,cAAc,IAVzB,gCAaQ,CAAEA,cAAc,EAAO2B,QAASF,EAASG,aAbjD,2CAD0C,wDAgB1C,IAGK1B,EAAQa,sBAAW,uCACxB,WAAOE,GAAP,eAAAC,EAAA,sEAEwBC,MAAMP,EAAS,4BAAwBK,GAAW,CACxEG,OAAQ,OACRC,QAAS,CACR,eAAgB,sBALnB,YAEOI,EAFP,QAScC,GATd,gCAUeD,EAASI,OAVxB,wEAaQ,CAAE7B,cAAc,EAAO2B,QAASF,EAASG,aAbjD,2CADwB,sDAgBxB,IAGK3B,EAAec,sBAAW,uCAC/B,WAAOE,GAAP,eAAAC,EAAA,sEACwBC,MAAMP,EAAS,sBAAkBK,GAAW,CAClEG,OAAQ,QAFV,YACOK,EADP,QAKcC,GALd,gCAMeD,EAASI,OANxB,mFAD+B,sDAU/B,IAGK1B,EAAcY,sBAAW,uCAC9B,WAAOe,EAAqBb,GAA5B,eAAAC,EAAA,sEAEwBC,MAAMP,EAAS,2BAAuBK,GAAW,CACvEG,OAAQ,OACRC,QAAS,CACR,eAAgB,oBAEjBC,KAAMC,KAAKC,UAAU,CAAEM,YAAaA,MAPtC,YAEOL,EAFP,QAUcC,GAVd,gCAWeD,EAASI,OAXxB,wEAcQ,CAAE7B,cAAc,EAAO2B,QAASF,EAASG,aAdjD,2CAD8B,wDAiB9B,IAGKxB,EAAiBW,sBAAW,uCACjC,WAAOE,GAAP,eAAAC,EAAA,sEAEwBC,MAAMP,EAAS,iCAA6BK,GAAW,CAC7EG,OAAQ,QAHV,YAEOK,EAFP,QAMcC,GANd,gCAOeD,EAASI,OAPxB,wEAUQ,CAAE7B,cAAc,EAAO2B,QAASF,EAASG,aAVjD,2CADiC,sDAajC,IAGKvB,EAAuBU,sBAAW,sBACvC,4BAAAG,EAAA,sEAEwBC,MAAMP,EAAS,8BAAkC,CACvEQ,OAAQ,QAHV,YAEOK,EAFP,QAMcC,GANd,gCAOeD,EAASI,OAPxB,wEAUQ,CAAE7B,cAAc,EAAO2B,QAASF,EAASG,aAVjD,2CAYA,IAGKtB,EAAaS,sBAAW,uCAC7B,WAAOE,GAAP,eAAAC,EAAA,sEACwBC,MAAMP,EAAS,yBAAqBK,GAAW,CACrEG,OAAQ,QAFV,YACOK,EADP,QAKcC,GALd,gCAMeD,EAASI,OANxB,mFAD6B,sDAU7B,IAGKtB,EAAaQ,sBAAW,uCAC7B,WAAOE,EAAiBc,EAAkBC,GAA1C,eAAAd,EAAA,sEACwBC,MAAMP,EAAS,yBAAqBK,GAAW,CACrEG,OAAQ,OACRC,QAAS,CACR,eAAgB,oBAEjBC,KAAMC,KAAKC,UAAU,CAAEO,SAAUA,EAAUC,OAAQA,MANrD,YACOP,EADP,QAScC,GATd,yCAUS,CAAE1B,cAAc,IAVzB,gCAaQ,CAAEA,cAAc,EAAO2B,QAASF,EAASG,aAbjD,2CAD6B,0DAgB7B,IAIKpB,EAAqBO,sBAAW,sBACrC,4BAAAG,EAAA,sEACwBC,MAAMP,EAAS,iBAAqB,CAC1DQ,OAAQ,QAFV,YACOK,EADP,QAKcC,GALd,gCAMeD,EAASI,OANxB,mFASA,IAGKpB,EAAqBM,sBAAW,uCACrC,WAAOkB,GAAP,eAAAf,EAAA,sEACwBC,MAAMP,EAAS,iBAAqB,CAC1DQ,OAAQ,OACRC,QAAS,CACR,eAAgB,oBAEjBC,KAAMC,KAAKC,UAAU,CAAES,WAAYA,MANrC,YACOR,EADP,QAScC,GATd,yCAUS,CAAE1B,cAAc,IAVzB,gCAaQ,CAAEA,cAAc,EAAO2B,QAASF,EAASG,aAbjD,2CADqC,sDAgBrC,IAGKlB,EAAWK,sBAAW,sBAC3B,4BAAAG,EAAA,sEACwBC,MAAMP,EAAS,eAAmB,CACxDQ,OAAQ,QAFV,YACOK,EADP,QAKcC,GALd,gCAMeD,EAASI,OANxB,mFASA,IAGKlB,EAAWI,sBAAW,uCAC3B,WAAOmB,GAAP,eAAAhB,EAAA,sEACwBC,MAAMP,EAAS,eAAmB,CACxDQ,OAAQ,OACRC,QAAS,CACR,eAAgB,oBAEjBC,KAAMC,KAAKC,UAAU,CAAEU,SAAUA,MANnC,YACOT,EADP,QAScC,GATd,yCAUS,CAAE1B,cAAc,IAVzB,gCAaQ,CAAEA,cAAc,EAAO2B,QAASF,EAASG,aAbjD,2CAD2B,sDAgB3B,IAGD,OACC,cAAClC,EAAgByC,SAAjB,CACCC,MAAO,CACNvC,0BACAK,QACAD,eACAE,cACAC,iBACAC,uBACAC,aACAC,aACAC,qBACAC,qBACAC,WACAC,YAbF,SAgBEG,KCrQEuB,EAAYC,aAAW,SAACC,GAAD,OAC3BC,YAAa,CACXC,KAAM,CACJC,QAAS,QAEXC,QAAS,CACPC,MAAOL,EAAMM,QAAQ,IACrBC,OAAQP,EAAMM,QAAQ,KAExBE,UAAW,CACTH,MAAOL,EAAMM,QAAQ,GACrBC,OAAQP,EAAMM,QAAQ,SAKfG,EAAS,SAACC,GAAW,IAE9BjB,EAGEiB,EAHFjB,OACAD,EAEEkB,EAFFlB,SACAmB,EACED,EADFC,cAEIC,EAAUd,IAChB,OACE,sBAAKe,IAAKF,EAAeG,UAAWJ,EAAMI,UAAWC,MAAO,CAAEC,SAAU,WAAYC,SAAU,UAA9F,UACE,cAACC,EAAA,EAAD,CAAQC,QAAQ,UAAUC,IAAK3B,EAAQ4B,IAAI,gBAAgBP,UAAWF,EAAQJ,YAC9E,sBAAKO,MAAO,CAAEO,UAAW,UAAzB,UAAuC9B,EAAvC,WAKNiB,EAAOc,aAAe,CACpBC,oBAAoB,GAGf,IAAMC,EAAU,SAACf,GAAW,IAE/BjB,EAIEiB,EAJFjB,OACAiC,EAGEhB,EAHFgB,EACAC,EAEEjB,EAFFiB,EACAnC,EACEkB,EADFlB,SAEIoB,EAAUd,IAChB,OACE,sBAAKgB,UAAWJ,EAAMI,UAAWC,MAAO,CAAEC,SAAU,WAAYY,IAAMD,EAAIE,KAAMH,EAAGT,SAAU,UAA7F,UACE,cAACC,EAAA,EAAD,CAAQC,QAAQ,UAAUC,IAAK3B,EAAQ4B,IAAI,gBAAgBP,UAAWF,EAAQJ,YAC9E,sBAAKO,MAAO,CAAEO,UAAW,UAAzB,UAAuC9B,EAAvC,WChBAsC,EACyB,cAA7BC,OAAOC,SAASC,SACZ,sBACA,yCAGAC,EAASC,IAAGL,EAAW,CAAEM,WAAY,CAAC,eACtCC,EAAa,IAAIC,IAAW,CAAEC,KAAM,gBACpCC,EAASC,cAMTC,EAAe,CAAC,IAAK,OAAQ,OAAQ,OAAQ,OAAQ,QACrDC,EAAW,CACf,CACEC,IAAK,qDACLL,KAAM,yCAER,CACEK,IAAK,qDACLL,KAAM,gDAER,CACEK,IAAK,qDACLL,KAAM,gDAER,CACEK,IAAK,qDACLL,KAAM,gDAER,CACEK,IAAK,qDACLL,KAAM,gDAER,CACEK,IAAK,qDACLL,KAAM,gDAER,CACEK,IAAK,qDACLL,KAAM,iDAIJM,EAAW,CAAC,QAAS,QAAS,MAAO,OAAQ,OAAQ,SAAU,SAAU,OAAQ,OAAQ,UAEzF/C,EAAYC,aAAW,SAACC,GAAD,OAC3BC,YAAa,CACXC,KAAM,CACJC,QAAS,QAEXC,QAAS,CACPC,MAAOL,EAAMM,QAAQ,IACrBC,OAAQP,EAAMM,QAAQ,KAExBE,UAAW,CACTH,MAAOL,EAAMM,QAAQ,GACrBC,OAAQP,EAAMM,QAAQ,SAoxBbwC,MA/wBf,WACE,IAAMlC,EAAUd,IADH,EAE6BiD,qBAF7B,mBAENC,EAFM,KAESC,EAFT,KAGPC,EAAU9F,IAAM+F,YAChBC,EAAWhG,IAAM+F,YACjBE,EAAYC,mBACZC,EAAWnG,IAAM+F,YACjBK,EAAYF,mBACZG,EAAmBH,iBAAe,GAR3B,EASaP,mBAAkB,IAT/B,mBASNW,EATM,KASCC,EATD,OAU+BZ,oBAAS,GAVxC,oBAUNa,GAVM,MAUUC,GAVV,SAWyKC,qBACpL3G,GADMG,GAXK,GAWLA,wBAAyBK,GAXpB,GAWoBA,MAAOD,GAX3B,GAW2BA,aAAcE,GAXzC,GAWyCA,YAAaC,GAXtD,GAWsDA,eAAgBC,GAXtE,GAWsEA,qBAAsBC,GAX5F,GAW4FA,WAAYC,GAXxG,GAWwGA,WAAYC,GAXpH,GAWoHA,mBAAoBC,GAXxI,GAWwIA,mBAAoBE,GAX5J,GAW4JA,SAX5J,GAcqB2E,oBAAU,GAd/B,qBAcNgB,GAdM,MAcKC,GAdL,MAeLC,GAAoBC,cAApBD,gBAfK,GAgBuBlB,mBAAwC,CAC1EnB,IAAK,EACLC,KAAM,IAlBK,qBAgBNsC,GAhBM,MAgBMC,GAhBN,SAoBerB,mBAAS,QApBxB,qBAoBNsB,GApBM,MAoBEC,GApBF,SAqBuBvB,oBAAS,GArBhC,qBAqBNwB,GArBM,MAqBMC,GArBN,SAsBuBzB,mBAAS,GAtBhC,qBAsBN0B,GAtBM,MAsBMC,GAtBN,MAuBPC,GAAW5C,OAAO6C,YAAc,IAvBzB,GAwBmC7B,oBAAS,GAxB5C,qBAwBN8B,GAxBM,MAwBYC,GAxBZ,SAyB2B/B,mBAAS,IAzBpC,qBAyBNgC,GAzBM,MAyBQC,GAzBR,SA0ByBjC,mBAAS,GA1BlC,qBA0BNkC,GA1BM,MA0BOC,GA1BP,SA2BiBnC,mBAAS,GA3B1B,qBA2BNoC,GA3BM,MA2BGC,GA3BH,SA4BqBrC,oBAAS,GA5B9B,qBA4BNsC,GA5BM,MA4BKC,GA5BL,SA6BqBvC,oBAAS,GA7B9B,qBA6BNwC,GA7BM,MA6BKC,GA7BL,SA8BiBzC,qBA9BjB,qBA8BN3D,GA9BM,MA8BGqG,GA9BH,SA+BuB1C,qBA/BvB,qBA+BN2C,GA/BM,MA+BMC,GA/BN,SAkCqB5C,oBAAS,GAlC9B,qBAkCN6C,GAlCM,MAkCKC,GAlCL,SAmCyB9C,mBAAS,IAnClC,qBAmCN+C,GAnCM,MAmCOC,GAnCP,SAoCmBhD,mBAAS,QApC5B,qBAoCNvD,GApCM,MAoCIwG,GApCJ,SAqCejD,mBAAS,uEArCxB,qBAqCNtD,GArCM,MAqCEwG,GArCF,MAsCPtF,GAAgBvD,IAAM+F,YAtCf,GAuC6BJ,mBAAS,IAvCtC,qBAuCNmD,GAvCM,MAuCSC,GAvCT,SA0CiBpD,mBAAS,GA1C1B,qBA0CNqD,GA1CM,MA0CGC,GA1CH,MA4CbnE,EAAOoE,KAAK,WAAY9G,IACxB0C,EAAOoE,KAAK,SAAU7G,IAEtB8G,qBAAU,WAMR,IAEIC,EAAYC,KAAKC,MACrBtI,GAAUuI,KAAKC,OAAOJ,EAHR,YACM,OAEqCK,cACxD,IAEHN,qBAAU,WACRxI,GAAWiF,EAAgBA,EAActE,QAAU,IAAIoI,MAAK,SAACC,GACvDA,IACF7E,EAAOoE,KAAK,WAAYS,EAAIvH,UAC5B0C,EAAOoE,KAAK,SAAUS,EAAItH,QAC1BuG,GAAYe,EAAIvH,UAChByG,GAAUc,EAAItH,cAGjB,CAAC1B,GAAYiF,IAEhBuD,qBAAU,WAAM,4CACd,4BAAA5H,EAAA,sEACyBV,KADzB,OACM+I,EADN,OAC+CtH,WAC7CwC,EAAOoE,KAAK,WAAYU,EAAY,GAAK,GACzCX,IAAYW,EAAY,GAAK,GAC7B9I,IAAoB8I,EAAY,GAAK,GAJvC,4CADc,uBAAC,WAAD,wBAOdC,KAEC,CAACZ,GAAYnI,GAAoBD,KAEpC,IAAMiJ,GAAe1I,uBACnB,SACE2I,EADF,EAGEC,GACC,IAAD,mBAFC1F,EAED,KAFIC,EAEJ,KACMtB,EAAQ0B,OAAO6C,WACfrE,EAASwB,OAAOsF,YAChBC,EAAYjH,EAAQqB,EACpB6F,EAAYhH,EAASoB,EAG3BwE,IAAiB,SAACD,GAWhB,OAVsB,2BACjBA,GADiB,kBAEnBiB,EAFmB,2BAGfjB,EAAciB,IAHC,IAIlBzF,EAAG4F,EACH3F,EAAG4F,EACH9H,OAAQ2H,EAAc3H,OACtBD,SAAU4H,EAAc7E,cAMhC,IAGFgE,qBAAU,WACR,IAAMiB,EAAsB,SAACL,GAC3BhB,IAAiB,SAACD,GAChB,IAAMuB,EAAgB,eACjBvB,GAIL,cAFOuB,EAAiBN,GAEjBM,MAILC,EAAkB,SAAChI,GACvB2G,GAAW3G,IAOb,OAJAwC,EAAOyF,GAAG,sBAAuBH,GACjCtF,EAAOyF,GAAG,cAAeT,IACzBhF,EAAOyF,GAAG,UAAWD,GAEd,WACLxF,EAAO0F,IAAI,qBAAsBJ,GACjCtF,EAAO0F,IAAI,cAAeV,IAC1BhF,EAAO0F,IAAI,UAAWF,MAGvB,CAACR,GAAcb,KAElBE,qBAAU,WAAO,SACAsB,EADD,kFACd,WAA4BC,EAAeC,EAAeC,GAA1D,iBAAArJ,EAAA,sEACqBC,MAAM,uCAAwC,CAC/DC,OAAQ,OACRE,KAAMC,KAAKC,UAAU,CACnBgJ,MAAOH,EACPE,UAAWA,EACXD,cAAeA,MANrB,cACMG,EADN,gBAUmBA,EAAO5I,OAV1B,cAUM6I,EAVN,yBAWSA,GAXT,4CADc,kEAed,WAA+BC,GAA/B,qBAAAzJ,EAAA,sEACiCkJ,EAC7BQ,EACA,mBACA,CAAE3J,QAAS0J,IAJf,uBACUE,EADV,EACUA,OAAQC,EADlB,EACkBA,KAKZD,GACFE,QAAQC,MAAMH,GAEVJ,EAASK,EAAOA,EAAKG,yBAA2B,KACtD3C,GAAemC,GAVjB,kBAWSA,GAXT,4CAfc,sBA6BVlF,GA7BU,oCA8BZ2F,CAAgB3F,EAActE,WAC/B,CAACsE,IAEJ,IAAM4F,GAAY,SAACC,EAAMC,GAIvB,QAAaC,IAATF,EACF,MAAO,GAGT,OAAQC,GACN,IAAK,MACH,OAAOD,EAAKG,QAAQ,UAAW,sCACjC,IAAK,aACH,OAAOH,EAAKG,QAAQ,UAAW,qCACjC,IAAK,SACH,OAAOH,EAAKG,QAAQ,UAAW,sCACjC,IAAK,OACH,OAAOH,EAAKG,QAAQ,UAAW,yBACjC,IAAK,SACH,IACE,IACIC,EADQ,IAAIC,WAAWC,IAAIN,EAAKG,QAAQ,UAAW,KAAKI,OACtCC,oBAAoB,UAC1C,MAAM,WAAN,OAAkBJ,EAAlB,yBACA,MAAOK,GACP,OAEJ,IAAK,OACH,OAAOT,EAAKG,QAAQ,UAAW,0BACjC,QAEE,OADAR,QAAQC,MAAM,uBACPI,IAIPU,GAAuBC,mBAC3B,kBACEC,IAAEC,UAAS,SAAC1I,GACVkB,EAAOoE,KAAK,cAAe,CAAE5E,EAAGV,EAAS,GAAIW,EAAGX,EAAS,OACxD,KACL,IAGI2I,GAAcnL,uBAClB,SAACoL,GACC,IAAMlI,EAAIkI,EAAMC,QACVlI,EAAIiI,EAAME,QAEVzJ,EAAQ0B,OAAO6C,WACfrE,EAASwB,OAAOsF,YAKtBkC,GAAqB,EAHF7H,EAAI,IAAMrB,GACVsB,EAAI,IAAMpB,IAIzBI,GAAcoJ,UAChBpJ,GAAcoJ,QAAQhJ,MAAMc,KAAOH,EAAI,GAAK,KAC5Cf,GAAcoJ,QAAQhJ,MAAMa,IAAMD,EAAI,GAAK,QAG/C,CAAC4H,GAAsB5I,KAGzB4F,qBAAU,WACRxE,OAAOiI,iBAAiB,YAAaL,MACpC,CAACA,KA3OS,IA6OSM,GA7OT,GAgP2BlH,oBAHlBkH,GAGwCtH,EAASuH,OAF9DvD,KAAKC,MAAMD,KAAKwD,SAAWF,MA9OvB,qBAgPNG,GAhPM,MAgPQC,GAhPR,MAsPPC,GAAW,SAAAC,GACfA,EAAEC,iBACE/G,EAAiBsG,UACnBzM,GAAwBmG,EAAiBsG,QAAS/G,EAAgBA,EAActE,QAAU8D,GAC1FiB,EAAiBsG,QAAU,IA1PlB,SA0QEU,GA1QF,iFA0Qb,WAAyB/L,GAAzB,eAAAC,EAAA,sEAEQC,MAAM,oCAAqC,CAC/CC,OAAQ,OACRC,QAAS,CACP,eAAgB,oBAElBC,KAAMC,KAAKC,UAAU,CACnBgJ,MAAO,0DAE0BvJ,EAF1B,sDAKPsJ,UAAW,OAKZlB,MAAK,SAACC,GAAD,OAASA,EAAIzH,UAClBwH,MAAK,SAACoB,GAEDA,EAAOK,KAAKmC,gBACdC,EAASzC,EAAOK,KAAKmC,cAAcC,OAAOpI,KAC1C+B,GAAUqG,OAvBlB,4CA1Qa,sBA8PbpE,qBAAU,WAKA,IAAD,GAJPxE,OAAOiI,iBAAiB,eAAgBM,IAExB,IAAZnF,IAAiBE,IACnB9B,EAASwG,QAAQa,OAEjB,UAAArH,EAASwG,eAAT,SAAkBc,WAoCtBtE,qBAAU,WAAM,4CACd,sBAAA5H,EAAA,kEACEsE,EADF,SACyBZ,EAAWyI,mBADpC,kCAEM9H,GACFsB,GAAUtB,EAActE,QAAQqM,MAAM,EAAG,GAAK,MAAQ/H,EAActE,QAAQqM,MAAM,GAAI,KACtFvG,IAAc,GACdiG,GAAUzH,EAActE,WAGxB4F,GAAU,QACVE,IAAc,IATlB,4CADc,kEAgBd,sBAAA7F,EAAA,kEACEuG,GADF,SACwBrH,GAAemF,EAAgBA,EAActE,QAAU,IAD/E,mBACoFsM,SADpF,0DAhBc,kEAoBd,sBAAArM,EAAA,kEACE8G,GADF,SACoB3H,KADpB,mBAC4C+B,OAD5C,0DApBc,uBAAC,WAAD,wBAcdoL,GAdc,mCAwBdC,GAxBc,mCAyBdC,KACC,CAACnI,EAAeiC,GAAa7F,GAASvB,GAAgBC,KAEzDyI,qBAAU,WACJnD,EAAS2G,UACX1G,EAAU0G,QAAU3G,EAAS2G,SAE3BxG,EAASwG,UACXvG,EAAUuG,QAAUxG,EAASwG,YAIjC,IAAMqB,GAAY5M,uBAAY,WAC5B,GAAI0E,EAAQ6G,QAAS,CACnB,IAAMsB,EAAOnI,EAAQ6G,QAAQuB,wBAC7BlH,GAAc,CACZxC,IAAKyJ,EAAKzJ,IAAMyJ,EAAK9K,OAAS,EAC9BsB,KAAMwJ,EAAKxJ,KAAOwJ,EAAKhL,MAAQ,EAAI,QAGtC,CAAC6C,IAGJqD,qBAAU,WACR7I,GAAasF,EAAgBA,EAActE,QAAU8D,GAAQsE,MAAK,SAACC,GAC7DA,IACF/C,GAAa+C,EAAIwE,OACjB7G,GAAcqC,EAAIpJ,aAGrB,CAACD,GAAcsF,IAGlBuD,qBAAU,WACR,IAAMiF,EAAa,WACbnI,EAAU0G,UACZ1G,EAAU0G,QAAQ0B,YAAc,EAChCpI,EAAU0G,QAAQa,OAClB5G,IAAa,SAACuH,GAAD,OAAWA,EAAQ,MAGlC5H,GAAS,SAACD,GAAD,OAAWA,EAAMgI,OAAO,CAAEC,IAAKlJ,mBACxCwB,GAAgB,yBAA0B,CACxC9C,QAAS,aAQb,OAJAe,EAAOyF,GAAG,WAAY6D,GAEtBzJ,OAAOiI,iBAAiB,SAAUoB,IAE3B,WACLlJ,EAAO0F,IAAI,WAAY4D,GACvBzJ,OAAO6J,oBAAoB,SAAUR,OAEtC,CAACnH,GAAiBmH,KAErB7E,qBAAU,YACJrD,EAAQ6G,SAA+B,IAAnB5F,GAAWvC,KAAiC,IAApBuC,GAAWtC,MACzDuJ,OAED,CAAClI,EAASiB,GAAYiH,KAEzB,IA2BMS,GAAkBrN,sBACtBiL,IAAEC,UAAS,WACLjG,EAAiBsG,UACnBzM,GAAwBmG,EAAiBsG,QAAS/G,EAAgBA,EAActE,QAAU8D,GAC1FiB,EAAiBsG,QAAU,KAE5B,KACH,CAAC/G,IAlaU,8CAqab,sBAAArE,EAAA,kEACEsE,EADF,SACyBZ,EAAWyI,mBADpC,kCAEM9H,GAEFX,EAAWyJ,qBAAqBhF,KAAhC,sBAAqC,sBAAAnI,EAAA,kEACnCsE,EADmC,SACZZ,EAAWyI,mBADC,kCAEnCxG,GAAU,QACVE,IAAc,GACdE,GAAc,GAJqB,4CAJzC,4CAraa,+BAkbEqH,KAlbF,8EAkbb,gCAAApN,EAAA,kEACEsE,EADF,SACyBZ,EAAWyI,mBADpC,sCAGM9H,EAHN,wBAIIsB,GAAUtB,EAActE,SACxB8F,IAAc,GACdiG,GAAUzH,EAActE,SAN5B,UASkCd,GAAY4E,EAAQwJ,YAAYtN,SATlE,eASUuN,EATV,OAS4EA,eACxEzD,QAAQ0D,IAAID,GACZvH,GAAcuH,GAXlB,kBAYWjJ,GAZX,yBAiBMwF,QAAQ0D,IAAI,6BAjBlB,UAkBgC7J,EAAW8J,qBAlB3C,eAkBYH,EAlBZ,YAmBM/I,EAnBN,UAmB6BZ,EAAWyI,mBAnBxC,0CAoBMtC,QAAQ0D,IAAI,mBAAoBF,EAAYtN,SAC5C4F,GAAU0H,EAAYtN,SACtB8F,IAAc,GAEdiG,GAAUuB,EAAYtN,SAxB5B,UA2BoCd,GAAY4E,EAAQwJ,EAAYtN,SA3BpE,QA2BYuN,EA3BZ,OA2B8EA,eACxEzD,QAAQ0D,IAAID,GACZvH,GAAcuH,GAEdvO,GAAasO,EAAYtN,SAASoI,MAAK,SAACC,GAClCA,IACF/C,GAAa+C,EAAIwE,OACjB7G,GAAcqC,EAAIpJ,WAlC5B,mDAwCM6K,QAAQ0D,IAAI,aAAZ,MAxCN,4DAlba,+BA+dEE,KA/dF,8EA+db,8BAAAzN,EAAA,6DAEEsF,GAAgB,WAAaQ,GAAa,UAAW,CACnDtD,QAAS,YAGPkL,EAAiB,CAAEjN,QAAS,6BAA8BkN,KAAM,GAAIC,MAAO,SAC/EvH,IAAgB,SAACwH,GAAD,OAAiBA,EAAYd,OAAOW,MAPtD,SASuB1O,GAAMqF,EAAgBA,EAActE,QAAU8D,GATrE,QASQ0F,EATR,QAUauE,SACTxI,GAAgB,sBAAKyI,QAAS,WAAQ3K,OAAO4K,KAAKzE,EAAO9I,UAAzC,qBAAgE8I,EAAO9I,QAAvE,QAAyF,CACvG+B,QAAS,YAEX6D,IAAgB,SAACwH,GAAD,OAAiBA,EAAYd,OAAO,CAAEtM,QAAS,YAAc8I,EAAO0E,OAAS,UAAWN,KAAMpE,EAAO9I,QAASmN,MAAO,eAErItI,GAAgBiE,EAAO9I,QAAS,CAC9B+B,QAAS,UAEX6D,IAAgB,SAACwH,GAAD,OAAiBA,EAAYd,OAAO,CAAEtM,QAAS,qBAAsBkN,KAAM,GAAIC,MAAO,YAExG7H,GAAc,GArBhB,4CA/da,sBAufb,IAgBMmI,GAAc,uCAAG,WAAOjD,GAAP,iBAAAjL,EAAA,yDACH,UAAdiL,EAAM+B,IADW,0CAGItJ,EAAWyK,iBAAiB,CAC/CC,iBAAkB,CAChB,CACEC,KAAMC,IAAmBC,YACzBN,OAAQ,IACRO,YAAa,uCACbC,WAAY,CACVC,WAAY,UACZxN,MAAO,CACLyN,OAAQ5H,SAZD,OAGXwC,EAHW,OAmBjBM,QAAQ0D,IAAIhE,GACZvC,GAAc,IACdH,IAAa,GAEbvB,GAAgB,qBAAKyI,QAAS,WAAQ3K,OAAO4K,KAAKzE,EAAOqF,kBAAzC,qCAA8F,CAC5GpM,QAAS,YAGPkL,EAAiB,CAAEjN,QAAS,wBAAyBkN,KAAM,mBAAqBpE,EAAOqF,gBAAiBhB,MAAO,SACnHvH,IAAgB,SAACwH,GAAD,OAAiBA,EAAYd,OAAOW,MA5BnC,kDA8BjB7D,QAAQ0D,IAAR,MACAjI,GAAgBiE,OAAO9I,QAAS,CAC9B+B,QAAS,KAAM0F,aAhCA,0DAAH,sDA2CpB,OACE,sBACE/F,UAAU,gBACVC,MAAO,CAAEyM,UAAWzL,OAAOsF,YAAaoG,UAAW,SAAUC,UAAW,SAAUC,gBAAiB9K,EAASuD,KAF9G,UAKE,cAAC,EAAD,CAAQ3G,OAAQA,GAAQkB,cAAeA,GAAenB,SAAUA,KAEhE,uBAAO4B,IAAKwM,EAAU/M,IAAKuC,EAAUyK,UAAQ,EAACC,OAAK,IACnD,uBAAO1M,IAAKuB,EAASyH,IAAcxH,IAAK/B,IAAK0C,EAAUsK,UAAQ,EAACE,QApEvD,WACc,IAArBpL,EAAUuH,QAIZG,GADOD,KAAiBzH,EAAUuH,OAAS,EAC3B,EAGAE,GAAe,MA6D9BlE,IAAiB8H,OAAOC,QAAQ/H,IAAegI,KAAI,gBAAEvC,EAAF,2BAClD,cAAC,EAAD,CAASjK,EAAGwE,GAAcyF,GAAKjK,EAAGC,EAAGuE,GAAcyF,GAAKhK,EAAGlC,OAAQyG,GAAcyF,GAAKlM,OAAQD,SAAU0G,GAAcyF,GAAKnM,cAI7H,sBAAKsB,UAAU,WAAWC,MAAO,CAAEoN,SAAUxJ,GAAW,MAAQ,QAASxE,QAAS,OAAQiO,WAAY,UAAtG,iBAGE,qBAAKrN,MAAO,CAAEsN,cAAe,IAA7B,SACE,eAACC,EAAA,EAAD,CACEzO,MAAOsF,GACPoJ,MAAM,UACNC,SAtVW,SAAC5E,GACpBxE,GAAWwE,EAAM6E,OAAO5O,QAkVlB,UAKE,eAAC6O,EAAA,EAAD,CAAU7O,MAAO,EAAjB,cAAsB6C,EAAa,MACnC,eAACgM,EAAA,EAAD,CAAU7O,MAAO,EAAjB,cAAsB6C,EAAa,MACnC,eAACgM,EAAA,EAAD,CAAU7O,MAAO,EAAjB,cAAsB6C,EAAa,MACnC,eAACgM,EAAA,EAAD,CAAU7O,MAAO,EAAjB,cAAsB6C,EAAa,MACnC,eAACgM,EAAA,EAAD,CAAU7O,MAAO,EAAjB,cAAsB6C,EAAa,WAIvC,qBACErB,IAAI,SACJsN,MAAO,sBAAwBjM,EAAayC,IAC5C/D,IAAKwN,EACLvO,MAAOsE,GAAW,GAAK,GACvBpE,OAAQoE,GAAW,GAAK,QAI5B,qBAAK7D,UAAU,aAAf,SACe,IAAZqE,IACC,qCACG/F,GACD,cAACyP,EAAA,EAAD,CAAQF,MAAO,SAAUG,KAAMnK,GAAW,QAAU,SAAU+H,QAAO,sBAAE,sBAAA/N,EAAA,sDAAc6G,IAAcD,IAA5B,2CAAvE,wBACA,uBACCA,IACC,cAACwJ,EAAA,EAAD,CACEC,GAAG,iBACHT,MAAM,mCACNpN,QAAQ,WACR8N,WAAS,EACTpP,MAAO6F,GACP8I,SArGQ,SAAC5E,GACrBjE,GAAciE,EAAM6E,OAAO5O,QAqGfqP,WAAYrC,UAQrB9I,IAAa,GAAK,qBAAKjD,UAAU,YAAYC,MAAO,CAAEoN,SAAUxJ,GAAW,MAAQ,QAASrD,UAAW,OAArF,SACjB,sBAAKP,MAAO,CAAEO,UAAW,MAAO6N,aAAc,OAAQC,WAAY,QAAlE,cAA8ErL,GAA9E,SAGF,qBACElD,IAAKqC,EACLwJ,QAvPc,WAClB/I,GAAS,SAACD,GAAD,OAAWA,EAAMgI,OAAO,CAAEC,IAAKlJ,mBACxCoB,IAAkB,GAEdT,EAAS2G,UACX3G,EAAS2G,QAAQ+D,OAAQ,EACzB1K,EAAS2G,QAAQ0B,YAAc,EAC/BrI,EAAS2G,QAAQa,QAGnB1I,EAAOoE,KAAK,YAEqB,OAA7B7C,EAAiBsG,SACnBtG,EAAiBsG,UACjB8B,MAGApI,EAAiBsG,QAAU,EAK7B/F,IAAa,SAACuH,GAAD,OAAWA,EAAQ,KAChC7G,IAAc,SAACD,GAAD,OAAgBA,EAAa,MAiOvCpD,IAAI,OACJD,IAAKiO,EACLvO,UAAU,UAEV8C,IAAkB,kDAEpB,cAAC0L,EAAA,EAAD,UACG5L,EAAMwK,KAAI,SAACqB,GAAD,OACT,cAACC,EAAA,EAAD,CAEEC,QAAS,IACTC,WAAW,kBACXC,UAAW,WACT,IAAMC,EAAYlM,EAAMmM,WACtB,SAACC,GAAD,OAAWA,EAAMnE,MAAQ4D,EAAK5D,OAEhChI,EAAS,GAAD,mBACHD,EAAMqH,MAAM,EAAG6E,IADZ,YAEHlM,EAAMqH,MAAM6E,EAAY,OAVjC,SAcE,qBACEvO,IAAI,aACJD,IAAK2O,EACLjP,UAAU,aACVC,MAAO,CACLa,IAAKuC,GAAWvC,IAChBC,KAAMsC,GAAWtC,SAnBhB0N,EAAK5D,UA0BhB,qBAAK7K,UAAU,cAAf,SACE,eAAC+N,EAAA,EAAD,CAAQF,MAAO,qBAAsBG,KAAMnK,GAAW,QAAU,SAAU+H,QAAS,aAAnF,eAAiG,sBAAK3L,MAAO,CAAEO,UAAW,QAAzB,wBAA8C,uBAA9C,eAAjG,SAGF,qBAAKR,UAAU,gBAAf,SAEgB,IAAZqE,IACA,sBAAKpE,MAAO,CAAEO,UAAW,UAAzB,gCACsBqB,EAASyH,IAAc7H,UAKjD,qBAAKzB,UAAU,SAASC,MAAO,CAAEC,SAAU,YAA3C,UACgB,IAAZmE,IAA6B,IAAZA,KACjB,8BACGS,IACC,qBAAK9E,UAAU,QAAQC,MAAO,CAAEZ,QAAS,OAAQE,MAAO,OAAQqN,UAAW,OAAQsC,aAAc,KAAjG,SACGlK,IACCA,GAAYoI,KAAI,gBAAG+B,EAAH,EAAGA,MAAH,OACd,cAACC,EAAA,EAAD,CAEExD,QAAS,WACPzG,GAAU2C,GAAUqH,EAAME,YAAa,SACvCjO,EAAOoE,KAAK,SAAUsC,GAAUqH,EAAME,YAAa,SACnDnS,GAAWgF,EAActE,QAASc,GAAUoJ,GAAUqH,EAAME,YAAa,UAL7E,SAQE,cAACjP,EAAA,EAAD,CAAQC,QAAQ,UAAUC,IAAKwH,GAAUqH,EAAME,YAAa,QAAS9O,IAAK4O,EAAMjB,GAAIlO,UAAWF,EAAQR,WAPlG6P,EAAMjB,aAgB3B,sBAAKlO,UAAU,eAAf,UAEG+D,IAAoB,sBAAK9D,MAAO,CAAEqP,OAAQ,YAAaC,YAAa,GAAI9P,OAAQoE,GAAW,IAAM,IAAK+I,UAAW,OAAQS,SAAUxJ,GAAW,QAAU,QAASgJ,gBAAiB,SAA9J,UACnB,sBAAK5M,MAAO,CAAEZ,QAAS,OAAQiO,WAAY,SAAUkC,eAAgB,UAArE,UACE,qBAAKvP,MAAO,CAAEV,MAAO,GAAIE,OAAQ,MADnC,oBAKE,cAACsO,EAAA,EAAD,CAAQF,MAAO,eAAgBG,KAAMnK,GAAW,QAAU,SAAU+H,QAAO,sBAAE,sBAAA/N,EAAA,sDAAcmG,IAAoB,GAAlC,2CAA7E,oBAGDC,IACCA,GAAagG,MAAM,GAAGwF,UAAUrC,KAAI,SAAC1B,EAAagE,GAAd,OAClC,8BAEI,cAAC3B,EAAA,EAAD,CACE1N,QAAQ,WACRuL,QAAS,WACHF,EAAYF,MACdvK,OAAO4K,KAAKH,EAAYF,OAG5BvL,MAAO,CAAEV,MAAO,OAAQkM,MAAOC,EAAYD,OAP7C,SASGC,EAAYpN,WAXToR,EAAM3J,kBAkBtB,qBAAK9F,MAAO,CAAEZ,QAAS,OAAQmQ,eAAgB,YAA/C,SACG/L,GACC,eAACsK,EAAA,EAAD,CAAQF,MAAO,QAASG,KAAMnK,GAAW,QAAU,SAAU+H,QAAO,sBAAE,sBAAA/N,EAAA,sEAAoByN,KAApB,2CAAtE,qBAAuH3H,GAAvH,aACE,sBAAK1D,MAAO,CAAEoN,SAAqB,QAAmBkC,YAAa,IAAnE,4BAAyF5L,GAAzF,cAGN,sBAAK1D,MAAO,CAAEoN,SAAUxJ,GAAW,QAAU,MAAOrD,UAAW,MAAO6N,aAAc,QAApF,uBAAyGlK,GAAzG,YACA,sBAAKlE,MAAO,CAAEZ,QAAS,OAAQiO,WAAY,SAAUkC,eAAgB,YAArE,UACe,IAAZnL,IACC,qBAAKwJ,MAAO,cAAe5N,MAAO,CAAE0P,QAAS9L,GAAW,EAAI,IAC1D+H,QAAS,WACHrH,GACF9B,EAASwG,QAAQc,QAGjBtH,EAASwG,QAAQa,OAEnBtF,IAAcD,KARlB,SAWE,qBACEhE,IAAI,cACJsN,MAAO,OACPvN,IAAKiE,GAAYqL,EAAUC,EAC3BtQ,MAAOsE,GAAW,GAAK,GACvBpE,OAAQoE,GAAW,GAAK,OAI7BJ,IAAc,eAACsK,EAAA,EAAD,CAAQC,KAAMnK,GAAW,QAAU,SAAUgK,MAAO,SAAUjC,QAAS,YA5vBjF,oCA4vByFkE,IAA/E,UAA4F,uCAA5F,OAEdrM,IAAc,sCACf,eAACsK,EAAA,EAAD,CAAQF,MAAO,OAAQG,KAAMnK,GAAW,QAAU,SAAU+H,QAAO,sBAAE,sBAAA/N,EAAA,sEAAoBoN,KAApB,2CAArE,UAAqG,4BAAI1H,KAAzG,OAzBF,IA2BE,eAACwK,EAAA,EAAD,CAAQF,MAAO,eAAgBG,KAAMnK,GAAW,QAAU,SAAU+H,QAAO,sBAAE,sBAAA/N,EAAA,sDAAcmG,IAAqBD,IAAnC,2CAA7E,cAAuI,qBAAK9D,MAAO,CAAEV,MAAO,IAAMgB,IAAI,eAAeD,ICn2BhL,uvPDm2BL,OACCmD,IAAc,qCAAE,sCACf,cAACsK,EAAA,EAAD,CAAQC,KAAMnK,GAAW,QAAU,SAAUgK,MAAO,SAAUjC,QAAS,WAAQ7G,IAAcD,KAA7F,SACE,cAAC1E,EAAA,EAAD,CAAQC,QAAQ,UAAUC,IAAK3B,GAAQ4B,IAAI,gBAAgBP,UAAWF,EAAQJ,2BAatF6H,EAAgB,+Z,iBEr2BPwI,EAZS,SAACC,GACnBA,GAAeA,aAAuBC,UACxC,8BAAqBjK,MAAK,YAAkD,IAA/CkK,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,O,mBCDDO,GAAY,WAAO,IAAD,EACCtO,qBADD,mBACpBuO,EADoB,KACZC,EADY,OAEKxO,qBAFL,mBAEpByO,EAFoB,KAEVC,EAFU,OAGO1O,qBAHP,mBAGpB2O,EAHoB,KAGTC,EAHS,KAKnBxT,EAAa2F,qBAAW3G,GAAxBgB,SAsCR,OApCAoI,qBAAU,WAAM,4CACZ,oCAAA5H,EAAA,6DACkB,WACM,MAChB6H,EAAYC,KAAKC,MAEjB/G,EAAYgH,KAAKC,OAAOJ,EAJd,YACM,OAG2CK,WALnE,SAOuB1I,IAPvB,OAOQ+J,EAPR,OASQ0J,EAAW,EACXC,EAAY,EAEhB3J,EAAO4J,SAAQ,SAAAC,GACXvJ,QAAQ0D,IAAI6F,EAAQ/C,IACpBxG,QAAQ0D,IAAI6F,EAAQxJ,MAChB5I,IAAaoS,EAAQ/C,IACrBuC,EAAUQ,EAAQxJ,KAAKyJ,QAEvBrS,EAAWoS,EAAQ/C,IAAM,GAAKrP,EAAWoS,EAAQ/C,GAAK,IACtD4C,GAAYG,EAAQxJ,KAAKyJ,QAEzBrS,EAAWoS,EAAQ/C,IAAM,GAAKrP,EAAWoS,EAAQ/C,GAAK,KACtD6C,GAAaE,EAAQxJ,KAAKyJ,WAGlCP,EAAYG,GACZD,EAAaE,GA1BjB,6CADY,uBAAC,WAAD,wBAgCZI,KAED,IAGC,sBAAKlR,MAAO,CACRR,OAAQ,SADZ,wBAKI,uBACA,wCANJ,WAOa+Q,EACT,uBARJ,gBASkBE,EACd,uBAVJ,iBAWmBE,MCpD3BQ,IAASC,OACP,cAAC,KAAD,UACE,cAAC,EAAD,UACE,cAAC,IAAD,CAAkBC,SAAU,EAA5B,SACE,eAAC,KAAD,WACE,cAAC,KAAD,CAAOC,KAAK,aAAaN,QAAS,cAAC,GAAD,MAElC,cAAC,KAAD,CAAOM,KAAK,IAAIN,QAAS,cAAC,EAAD,eAOjCO,SAASC,eAAe,SAM1B1B,M","file":"static/js/main.936b6b00.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/drum.5ae1d20c.svg\";","export default __webpack_public_path__ + \"static/media/green_dot.68e4cbd3.png\";","export default __webpack_public_path__ + \"static/media/soundOn.cb19c3d5.png\";","export default __webpack_public_path__ + \"static/media/soundOff.c29eb524.png\";","export default __webpack_public_path__ + \"static/media/drumbeat.e0f520f5.mp3\";","export default __webpack_public_path__ + \"static/media/musical-note.49e6a279.svg\";","// @ts-nocheck\nimport React, { useCallback } from 'react';\n\n\nexport interface IFirebaseContext {\n\tfirebaseUpdateDrumCount: (amt: number, address: string) => void;\n\tgetDrumCount: (address: string) => Promise<IFetchResponseBase>;\n\tclaim: (address: string) => Promise<IFetchResponseBase>;\n\tsyncRewards: (tempAddress: string, address: string) => void;\n\tgetDrumBalance: (address: string) => Promise<IFetchResponseBase>;\n\tsetMessage: (address: string) => Promise<IFetchResponseBase>;\n\tgetBlockchainMessage: () => Promise<IFetchResponseBase>;\n\tgetProfile: (address: string) => Promise<IFetchResponseBase>;\n\tsetProfile: (address: string, username: string, avatar: string) => Promise<IFetchResponseBase>;\n\n\tgetBgColorFirebase: () => Promise<IFetchResponseBase>;\n\tsetBgColorFirebase: (colorIndex: number) => Promise<IFetchResponseBase>;\n\n\tgetVisit: () => Promise<IFetchResponseBase>;\n\tsetVisit: (dayIndex: string) => Promise<IFetchResponseBase>;\n\n}\n\nexport const FirebaseContext = React.createContext<IFirebaseContext>({\n\tfirebaseUpdateDrumCount: () => Promise.resolve({ isSuccessful: false }),\n\tgetDrumCount: () => Promise.resolve({ isSuccessful: false }),\n\tclaim: () => Promise.resolve({ isSuccessful: false }),\n\tsyncRewards: () => Promise.resolve({ isSuccessful: false }),\n\tgetDrumBalance: () => Promise.resolve({ isSuccessful: false }),\n\tgetBlockchainMessage: () => Promise.resolve({ isSuccessful: false }),\n\tgetProfile: () => Promise.resolve({ isSuccessful: false }),\n\tsetProfile: () => Promise.resolve({ isSuccessful: false }),\n\n\tgetBgColorFirebase: () => Promise.resolve({ isSuccessful: false }),\n\tsetBgColorFirebase: () => Promise.resolve({ isSuccessful: false }),\n\n\tgetVisit: () => Promise.resolve({ isSuccessful: false }),\n\tsetVisit: () => Promise.resolve({ isSuccessful: false }),\n});\n\nconst fetchBase =\n\tprocess.env.NODE_ENV === 'development'\n\t\t? ''\n\t\t: 'https://peopleparty-server.herokuapp.com';\n\n\nexport const FirebaseProvider: React.FC = ({ children }) => {\n\n\tconst firebaseUpdateDrumCount = useCallback(\n\t\tasync (amt: number, address: string): Promise<IFetchResponseBase> => {\n\t\t\tconst fetchRes = await fetch(fetchBase + `/users/drum/${address}`, {\n\t\t\t\tmethod: 'POST',\n\t\t\t\theaders: {\n\t\t\t\t\t'Content-Type': 'application/json'\n\t\t\t\t},\n\t\t\t\tbody: JSON.stringify({ amt: amt })\n\t\t\t});\n\n\t\t\tif (fetchRes.ok) {\n\t\t\t\treturn { isSuccessful: true };\n\t\t\t}\n\n\t\t\treturn { isSuccessful: false, message: fetchRes.statusText };\n\t\t},\n\t\t[]\n\t);\n\n\tconst claim = useCallback(\n\t\tasync (address: string): Promise<IFetchResponseBase> => {\n\n\t\t\tconst fetchRes = await fetch(fetchBase + `/users/drum/claim/${address}`, {\n\t\t\t\tmethod: 'POST',\n\t\t\t\theaders: {\n\t\t\t\t\t'Content-Type': 'application/json'\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tif (fetchRes.ok) {\n\t\t\t\treturn await fetchRes.json();\n\t\t\t}\n\n\t\t\treturn { isSuccessful: false, message: fetchRes.statusText };\n\t\t},\n\t\t[]\n\t);\n\n\tconst getDrumCount = useCallback(\n\t\tasync (address: string): Promise<IFetchResponseBase> => {\n\t\t\tconst fetchRes = await fetch(fetchBase + `/users/drum/${address}`, {\n\t\t\t\tmethod: 'GET'\n\t\t\t});\n\n\t\t\tif (fetchRes.ok) {\n\t\t\t\treturn await fetchRes.json();\n\t\t\t}\n\t\t},\n\t\t[]\n\t);\n\n\tconst syncRewards = useCallback(\n\t\tasync (tempAddress: string, address: string): Promise<IFetchResponseBase> => {\n\n\t\t\tconst fetchRes = await fetch(fetchBase + `/users/drum/sync/${address}`, {\n\t\t\t\tmethod: 'POST',\n\t\t\t\theaders: {\n\t\t\t\t\t'Content-Type': 'application/json'\n\t\t\t\t},\n\t\t\t\tbody: JSON.stringify({ tempAddress: tempAddress })\n\t\t\t});\n\n\t\t\tif (fetchRes.ok) {\n\t\t\t\treturn await fetchRes.json();\n\t\t\t}\n\n\t\t\treturn { isSuccessful: false, message: fetchRes.statusText };\n\t\t},\n\t\t[]\n\t);\n\n\tconst getDrumBalance = useCallback(\n\t\tasync (address: string): Promise<IFetchResponseBase> => {\n\n\t\t\tconst fetchRes = await fetch(fetchBase + `/users/drum/getBalance/${address}`, {\n\t\t\t\tmethod: 'GET'\n\t\t\t});\n\n\t\t\tif (fetchRes.ok) {\n\t\t\t\treturn await fetchRes.json();\n\t\t\t}\n\n\t\t\treturn { isSuccessful: false, message: fetchRes.statusText };\n\t\t},\n\t\t[]\n\t);\n\n\tconst getBlockchainMessage = useCallback(\n\t\tasync (): Promise<IFetchResponseBase> => {\n\n\t\t\tconst fetchRes = await fetch(fetchBase + `/users/getBlockchainMessage`, {\n\t\t\t\tmethod: 'GET'\n\t\t\t});\n\n\t\t\tif (fetchRes.ok) {\n\t\t\t\treturn await fetchRes.json();\n\t\t\t}\n\n\t\t\treturn { isSuccessful: false, message: fetchRes.statusText };\n\t\t},\n\t\t[]\n\t);\n\n\tconst getProfile = useCallback(\n\t\tasync (address: string): Promise<IFetchResponseBase> => {\n\t\t\tconst fetchRes = await fetch(fetchBase + `/users/profile/${address}`, {\n\t\t\t\tmethod: 'GET'\n\t\t\t});\n\n\t\t\tif (fetchRes.ok) {\n\t\t\t\treturn await fetchRes.json();\n\t\t\t}\n\t\t},\n\t\t[]\n\t);\n\n\tconst setProfile = useCallback(\n\t\tasync (address: string, username: string, avatar: string): Promise<IFetchResponseBase> => {\n\t\t\tconst fetchRes = await fetch(fetchBase + `/users/profile/${address}`, {\n\t\t\t\tmethod: 'POST',\n\t\t\t\theaders: {\n\t\t\t\t\t'Content-Type': 'application/json'\n\t\t\t\t},\n\t\t\t\tbody: JSON.stringify({ username: username, avatar: avatar })\n\t\t\t});\n\n\t\t\tif (fetchRes.ok) {\n\t\t\t\treturn { isSuccessful: true };\n\t\t\t}\n\n\t\t\treturn { isSuccessful: false, message: fetchRes.statusText };\n\t\t},\n\t\t[]\n\t);\n\n\n\tconst getBgColorFirebase = useCallback(\n\t\tasync (): Promise<IFetchResponseBase> => {\n\t\t\tconst fetchRes = await fetch(fetchBase + `/users/bgColor`, {\n\t\t\t\tmethod: 'GET'\n\t\t\t});\n\n\t\t\tif (fetchRes.ok) {\n\t\t\t\treturn await fetchRes.json();\n\t\t\t}\n\t\t},\n\t\t[]\n\t);\n\n\tconst setBgColorFirebase = useCallback(\n\t\tasync (colorIndex: number): Promise<IFetchResponseBase> => {\n\t\t\tconst fetchRes = await fetch(fetchBase + `/users/bgColor`, {\n\t\t\t\tmethod: 'POST',\n\t\t\t\theaders: {\n\t\t\t\t\t'Content-Type': 'application/json'\n\t\t\t\t},\n\t\t\t\tbody: JSON.stringify({ colorIndex: colorIndex })\n\t\t\t});\n\n\t\t\tif (fetchRes.ok) {\n\t\t\t\treturn { isSuccessful: true };\n\t\t\t}\n\n\t\t\treturn { isSuccessful: false, message: fetchRes.statusText };\n\t\t},\n\t\t[]\n\t);\n\n\tconst getVisit = useCallback(\n\t\tasync (): Promise<IFetchResponseBase> => {\n\t\t\tconst fetchRes = await fetch(fetchBase + `/users/visit`, {\n\t\t\t\tmethod: 'GET'\n\t\t\t});\n\n\t\t\tif (fetchRes.ok) {\n\t\t\t\treturn await fetchRes.json();\n\t\t\t}\n\t\t},\n\t\t[]\n\t);\n\n\tconst setVisit = useCallback(\n\t\tasync (dayIndex: string): Promise<IFetchResponseBase> => {\n\t\t\tconst fetchRes = await fetch(fetchBase + `/users/visit`, {\n\t\t\t\tmethod: 'POST',\n\t\t\t\theaders: {\n\t\t\t\t\t'Content-Type': 'application/json'\n\t\t\t\t},\n\t\t\t\tbody: JSON.stringify({ dayIndex: dayIndex })\n\t\t\t});\n\n\t\t\tif (fetchRes.ok) {\n\t\t\t\treturn { isSuccessful: true };\n\t\t\t}\n\n\t\t\treturn { isSuccessful: false, message: fetchRes.statusText };\n\t\t},\n\t\t[]\n\t);\n\n\treturn (\n\t\t<FirebaseContext.Provider\n\t\t\tvalue={{\n\t\t\t\tfirebaseUpdateDrumCount,\n\t\t\t\tclaim,\n\t\t\t\tgetDrumCount,\n\t\t\t\tsyncRewards,\n\t\t\t\tgetDrumBalance,\n\t\t\t\tgetBlockchainMessage,\n\t\t\t\tgetProfile,\n\t\t\t\tsetProfile,\n\t\t\t\tgetBgColorFirebase,\n\t\t\t\tsetBgColorFirebase,\n\t\t\t\tgetVisit,\n\t\t\t\tsetVisit\n\t\t\t}}\n\t\t>\n\t\t\t{children}\n\t\t</FirebaseContext.Provider>\n\t);\n};\n","// @ts-nocheck\nimport React from 'react';\nimport { makeStyles, Avatar, createStyles, Theme } from \"@material-ui/core\";\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    root: {\n      display: 'flex',\n    },\n    sizeBig: {\n      width: theme.spacing(12),\n      height: theme.spacing(12),\n    },\n    sizeSmall: {\n      width: theme.spacing(6),\n      height: theme.spacing(6),\n    },\n  }),\n);\n\nexport const Cursor = (props) => {\n  const {\n    avatar,\n    username,\n    userCursorRef\n  } = props;\n  const classes = useStyles();\n  return (\n    <div ref={userCursorRef} className={props.className} style={{ position: \"absolute\", overflow: \"hidden\" }}>\n      <Avatar variant=\"rounded\" src={avatar} alt=\"change avatar\" className={classes.sizeSmall} />\n      <div style={{ textAlign: \"center\" }} >{username} </div>\n    </div>\n  );\n};\n\nCursor.defaultProps = {\n  shouldShowIsActive: true\n};\n\nexport const Cursors = (props) => {\n  const {\n    avatar,\n    x,\n    y,\n    username,\n  } = props;\n  const classes = useStyles();\n  return (\n    <div className={props.className} style={{ position: \"absolute\", top: (y), left: x, overflow: \"hidden\" }}>\n      <Avatar variant=\"rounded\" src={avatar} alt=\"change avatar\" className={classes.sizeSmall} />\n      <div style={{ textAlign: \"center\" }} >{username} </div>\n    </div>\n  );\n};\n\n","\n// @ts-nocheck\n\nimport \"./App.css\";\n\nimport { CSSTransition, TransitionGroup } from \"react-transition-group\"; // ES6\nimport React, {\n  useCallback,\n  useContext,\n  useEffect,\n  useRef,\n  useState,\n  useMemo\n} from \"react\";\n\n//ui\nimport { IconButton, Button, Select, MenuItem, TextField, Avatar, makeStyles, createStyles, Theme } from \"@material-ui/core\";\nimport _ from \"underscore\";\nimport drum from \"./assets/drum.svg\";\nimport greenDot from \"./assets/green_dot.png\";\nimport scroll from \"./assets/scroll.png\";\nimport soundOn from \"./assets/soundOn.png\";\nimport soundOff from \"./assets/soundOff.png\";\nimport drumBeat from \"./assets/drumbeat.mp3\";\nimport musicNote from \"./assets/musical-note.svg\";\n\n//logic\nimport io from \"socket.io-client\";\nimport { useSnackbar } from \"notistack\";\nimport { v4 as uuidv4 } from \"uuid\";\nimport { DAppClient, TezosOperationType } from \"@airgap/beacon-sdk\";\nimport { FirebaseContext } from \"./firebaseContext\";\nimport { Cursor, Cursors } from './Cursor';\n\nconst socketURL =\n  window.location.hostname === \"localhost\"\n    ? \"ws://localhost:8000\"\n    : \"wss://peopleparty-server.herokuapp.com\";\n\n\nconst socket = io(socketURL, { transports: [\"websocket\"] });\nconst dAppClient = new DAppClient({ name: \"Beacon Docs\" });\nconst tempId = uuidv4();\n\ninterface INote {\n  key: string;\n}\n\nconst versionNames = [\"x\", \"v1.2\", \"v2.0\", \"v3.0\", \"v4.0\", \"v5.0\"];\nconst playlist = [\n  {\n    url: \"https://archive.org/download/BWV998/00goldberg.mp3\",\n    name: \"J S Bach - BWV998 - The Goldberg aria\"\n  },\n  {\n    url: \"https://archive.org/download/BWV998/01goldberg.mp3\",\n    name: \"J S Bach - BWV998 - The Goldberg Variation 1\"\n  },\n  {\n    url: \"https://archive.org/download/BWV998/02goldberg.mp3\",\n    name: \"J S Bach - BWV998 - The Goldberg Variation 2\"\n  },\n  {\n    url: \"https://archive.org/download/BWV998/03goldberg.mp3\",\n    name: \"J S Bach - BWV998 - The Goldberg Variation 3\"\n  },\n  {\n    url: \"https://archive.org/download/BWV998/04goldberg.mp3\",\n    name: \"J S Bach - BWV998 - The Goldberg Variation 4\"\n  },\n  {\n    url: \"https://archive.org/download/BWV998/05goldberg.mp3\",\n    name: \"J S Bach - BWV998 - The Goldberg Variation 5\"\n  },\n  {\n    url: \"https://archive.org/download/BWV998/06goldberg.mp3\",\n    name: \"J S Bach - BWV998 - The Goldberg Variation 6\"\n  }\n]\n\nconst bgColors = [\"white\", \"green\", \"red\", \"blue\", \"cyan\", \"yellow\", \"purple\", \"pink\", \"gray\", \"orange\"]\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    root: {\n      display: 'flex',\n    },\n    sizeBig: {\n      width: theme.spacing(12),\n      height: theme.spacing(12),\n    },\n    sizeSmall: {\n      width: theme.spacing(6),\n      height: theme.spacing(6),\n    },\n  }),\n);\n\nfunction App() {\n  const classes = useStyles();\n  const [activeAccount, setActiveAccount] = useState();\n  const drumRef = React.createRef<HTMLImageElement>();\n  const audioRef = React.createRef<HTMLAudioElement>();\n  const _audioRef = useRef<HTMLAudioElement>();\n  const musicRef = React.createRef<HTMLAudioElement>();\n  const _musicRef = useRef<HTMLAudioElement>();\n  const toUpdateCountRef = useRef<number>(0);\n  const [notes, setNotes] = useState<INote[]>([]);\n  const [hasClickedDrum, setHasClickedDrum] = useState(false);\n  const { firebaseUpdateDrumCount, claim, getDrumCount, syncRewards, getDrumBalance, getBlockchainMessage, getProfile, setProfile, getBgColorFirebase, setBgColorFirebase, setVisit } = useContext(\n    FirebaseContext\n  );\n  const [drumCount, setDrumCount] = useState(-1);\n  const { enqueueSnackbar } = useSnackbar();\n  const [noteCoords, setNoteCoords] = useState<{ top: number; left: number }>({\n    top: 0,\n    left: 0,\n  });\n  const [synced, setSynced] = useState('sync');\n  const [showUnsync, setShowUnsync] = useState(false);\n  const [drumReward, setDrumReward] = useState(0);\n  const isMobile = window.innerWidth <= 500;\n  const [showTransactions, setShowTransactions] = useState(false);\n  const [transactions, setTransactions] = useState([]);\n  const [drumBalance, setDrumBalance] = useState(0);\n  const [version, setVersion] = useState(5);\n  const [isPlaying, setIsPlaying] = useState(true);\n  const [showInput, setShowInput] = useState(false);\n  const [message, setMessage] = useState();\n  const [inputValue, setInputValue] = useState();\n\n  //v4\n  const [showPanel, setShowPanel] = useState(true);\n  const [collections, setCollections] = useState([]);\n  const [username, setUsername] = useState(\"anon\");\n  const [avatar, setAvatar] = useState(\"https://ipfs.io/ipfs/QmVAiRHjVLPJYnf7jCpVeqrqRBE7HFN9nm5ZB2QSZ5BY52\");\n  const userCursorRef = React.createRef<HTMLDivElement>();\n  const [userLocations, setUserLocations] = useState({});\n\n  //v5\n  const [bgColor, setBgColor] = useState(0);\n\n  socket.emit('username', username);\n  socket.emit('avatar', avatar);\n\n  useEffect(() => {\n    /*\n    attempt to implement simple analytics \n    1650574800 start time to record visits\n    */\n\n    const start = 1650574800000; //april 21 \n    const dayInterval = 86400000;\n    let timestamp = Date.now();\n    setVisit((Math.floor((timestamp - start) / dayInterval)).toString())\n  }, []);\n\n  useEffect(() => {\n    getProfile(activeAccount ? activeAccount.address : \"\").then((res) => {\n      if (res) {\n        socket.emit('username', res.username);\n        socket.emit('avatar', res.avatar);\n        setUsername(res.username);\n        setAvatar(res.avatar);\n      }\n    });\n  }, [getProfile, activeAccount]);\n\n  useEffect(() => {\n    async function fetchBgColor() {\n      let prevColor = (await getBgColorFirebase()).colorIndex;\n      socket.emit('bgColor', (prevColor + 1) % 9);\n      setBgColor((prevColor + 1) % 9);\n      setBgColorFirebase((prevColor + 1) % 9);\n    }\n    fetchBgColor();\n\n  }, [setBgColor, setBgColorFirebase, getBgColorFirebase]);\n\n  const onCursorMove = useCallback(\n    function cursorMove(\n      clientId: string,\n      [x, y]: number[],\n      clientProfile: IUserProfile\n    ) {\n      const width = window.innerWidth;\n      const height = window.innerHeight;\n      const absoluteX = width * x;\n      const absoluteY = height * y;\n\n\n      setUserLocations((userLocations) => {\n        const newUserLocations = {\n          ...userLocations,\n          [clientId]: {\n            ...userLocations[clientId],\n            x: absoluteX,\n            y: absoluteY,\n            avatar: clientProfile.avatar,\n            username: clientProfile.name,\n          }\n        };\n        return newUserLocations;\n      });\n    },\n    []\n  );\n\n  useEffect(() => {\n    const onRoomateDisconnect = (clientId: string) => {\n      setUserLocations((userLocations) => {\n        const newUserLocations = {\n          ...userLocations\n        };\n        delete newUserLocations[clientId];\n\n        return newUserLocations;\n      });\n    };\n\n    const onBgColorChange = (colorIndex: number) => {\n      setBgColor(colorIndex)\n    };\n\n    socket.on('roommate disconnect', onRoomateDisconnect);\n    socket.on('cursor move', onCursorMove);\n    socket.on('bgColor', onBgColorChange);\n\n    return () => {\n      socket.off('roomate disconnect', onRoomateDisconnect);\n      socket.off('cursor move', onCursorMove);\n      socket.off('bgColor', onBgColorChange);\n\n    };\n  }, [onCursorMove, setBgColor]);\n\n  useEffect(() => {\n    async function fetchGraphQL(operationsDoc, operationName, variables) {\n      let result = await fetch('https://hdapi.teztools.io/v1/graphql', {\n        method: 'POST',\n        body: JSON.stringify({\n          query: operationsDoc,\n          variables: variables,\n          operationName: operationName,\n        }),\n      })\n\n      var ress = await result.json();\n      return ress;\n    }\n\n    async function fetchCollection(addr) {\n      const { errors, data } = await fetchGraphQL(\n        query_collection,\n        'collectorGallery',\n        { address: addr }\n      )\n      if (errors) {\n        console.error(errors)\n      }\n      const result = data ? data.hic_et_nunc_token_holder : null;\n      setCollections(result)\n      return result\n    }\n\n    if (activeAccount)\n      fetchCollection(activeAccount.address);\n  }, [activeAccount]);\n\n  const HashToURL = (hash, type) => {\n    // when on preview the hash might be undefined.\n    // its safe to return empty string as whatever called HashToURL is not going to be used\n    // artifactUri or displayUri\n    if (hash === undefined) {\n      return ''\n    }\n\n    switch (type) {\n      case 'HIC':\n        return hash.replace('ipfs://', 'https://pinata.hicetnunc.xyz/ipfs/')\n      case 'CLOUDFLARE':\n        return hash.replace('ipfs://', 'https://cloudflare-ipfs.com/ipfs/')\n      case 'PINATA':\n        return hash.replace('ipfs://', 'https://gateway.pinata.cloud/ipfs/')\n      case 'IPFS':\n        return hash.replace('ipfs://', 'https://ipfs.io/ipfs/')\n      case 'INFURA':\n        try {\n          var cidv1 = new ipfsClient.CID(hash.replace('ipfs://', '')).toV1()\n          var subdomain = cidv1.toBaseEncodedString('base32')\n          return `https://${subdomain}.ipfs.infura-ipfs.io/`\n        } catch (err) {\n          return undefined\n        }\n      case 'DWEB':\n        return hash.replace('ipfs://', 'http://dweb.link/ipfs/')\n      default:\n        console.error('please specify type')\n        return hash\n    }\n  }\n\n  const updateCursorPosition = useMemo(\n    () =>\n      _.throttle((position: [number, number]) => {\n        socket.emit('cursor move', { x: position[0], y: position[1] });\n      }, 5),\n    []\n  );\n\n  const onMouseMove = useCallback(\n    (event: MouseEvent) => {\n      const x = event.clientX;\n      const y = event.clientY;\n\n      const width = window.innerWidth;\n      const height = window.innerHeight;\n\n      const relativeX = (x - 60) / width;\n      const relativeY = (y - 60) / height;\n\n      updateCursorPosition([relativeX, relativeY]);\n\n      if (userCursorRef.current) {\n        userCursorRef.current.style.left = x + 20 + 'px';\n        userCursorRef.current.style.top = y + 20 + 'px';\n      }\n    },\n    [updateCursorPosition, userCursorRef]\n  );\n\n  useEffect(() => {\n    window.addEventListener('mousemove', onMouseMove);\n  }, [onMouseMove]);\n\n  function getRandomInt(max) {\n    return Math.floor(Math.random() * max);\n  }\n  const [currentIndex, setCurrentIndex] = useState(getRandomInt(playlist.length));\n\n  const handleChange = (event) => {\n    setVersion(event.target.value);\n  };\n\n  const onUnload = e => {\n    e.preventDefault();\n    if (toUpdateCountRef.current) {\n      firebaseUpdateDrumCount(toUpdateCountRef.current, activeAccount ? activeAccount.address : tempId);\n      toUpdateCountRef.current = 0;\n    }\n  };\n\n  useEffect(() => {\n    window.addEventListener(\"beforeunload\", onUnload);\n\n    if (version === 3 && isPlaying) {\n      musicRef.current.play();\n    } else {\n      musicRef.current?.pause();\n    }\n  }\n  )\n\n  //fetch wallet name if it exist for example, trydrum.tez\n  async function getDomain(address: string) {\n    let domain;\n    await fetch('https://api.tezos.domains/graphql', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify({\n        query: `\n            {\n              reverseRecord(address: \"`+ address + `\"){owner domain{name}}\n            }\n            `,\n        variables: {\n        },\n      }\n      ),\n    })\n      .then((res) => res.json())\n      .then((result) => {\n        //console.log(result);\t\n        if (result.data.reverseRecord) {\n          domain = result.data.reverseRecord.domain.name;\n          setSynced(domain);\n        }\n      });\n  }\n\n\n\n  useEffect(() => {\n    async function getAcc() {\n      setActiveAccount(await dAppClient.getActiveAccount());\n      if (activeAccount) {\n        setSynced(activeAccount.address.slice(0, 6) + \"...\" + activeAccount.address.slice(32, 36));\n        setShowUnsync(true);\n        getDomain(activeAccount.address);\n      }\n      else {\n        setSynced('sync');\n        setShowUnsync(false);\n      }\n    }\n\n    getAcc();\n\n    async function fetchDrumBalance() {\n      setDrumBalance((await getDrumBalance(activeAccount ? activeAccount.address : \"\")).balance);\n    }\n\n    async function fetchBlockchainMessage() {\n      setMessage((await getBlockchainMessage()).value);\n    }\n\n    fetchDrumBalance();\n    fetchBlockchainMessage();\n  }, [activeAccount, drumBalance, message, getDrumBalance, getBlockchainMessage]);\n\n  useEffect(() => {\n    if (audioRef.current) {\n      _audioRef.current = audioRef.current;\n    }\n    if (musicRef.current) {\n      _musicRef.current = musicRef.current;\n    }\n  });\n\n  const setCoords = useCallback(() => {\n    if (drumRef.current) {\n      const rect = drumRef.current.getBoundingClientRect();\n      setNoteCoords({\n        top: rect.top - rect.height / 2,\n        left: rect.left + rect.width / 2 - 25, // noteWidth = 50\n      });\n    }\n  }, [drumRef]);\n\n\n  useEffect(() => {\n    getDrumCount(activeAccount ? activeAccount.address : tempId).then((res) => {\n      if (res) {\n        setDrumCount(res.count);\n        setDrumReward(res.claim);\n      }\n    });\n  }, [getDrumCount, activeAccount]);\n\n\n  useEffect(() => {\n    const onDrumbeat = () => {\n      if (_audioRef.current) {\n        _audioRef.current.currentTime = 0;\n        _audioRef.current.play();\n        setDrumCount((count) => count + 1);\n      }\n\n      setNotes((notes) => notes.concat({ key: uuidv4() }));\n      enqueueSnackbar(\"someone beat the drum!\", {\n        variant: \"default\",\n      });\n    };\n\n    socket.on(\"drumbeat\", onDrumbeat);\n\n    window.addEventListener(\"resize\", setCoords);\n\n    return () => {\n      socket.off(\"drumbeat\", onDrumbeat);\n      window.removeEventListener(\"resize\", setCoords);\n    };\n  }, [enqueueSnackbar, setCoords]);\n\n  useEffect(() => {\n    if (drumRef.current && (noteCoords.top === 0 || noteCoords.left === 0)) {\n      setCoords();\n    }\n  }, [drumRef, noteCoords, setCoords]);\n\n  const onClickDrum = () => {\n    setNotes((notes) => notes.concat({ key: uuidv4() }));\n    setHasClickedDrum(true);\n\n    if (audioRef.current) {\n      audioRef.current.muted = false;\n      audioRef.current.currentTime = 0;\n      audioRef.current.play();\n    }\n\n    socket.emit(\"drumbeat\");\n\n    if (toUpdateCountRef.current !== null) {\n      toUpdateCountRef.current++;\n      updateDrumCount();\n      //updateDrumCount(toUpdateCountRef.current, activeAccount ? activeAccount.address : tempId);\n    } else {\n      toUpdateCountRef.current = 0;\n    }\n\n\n\n    setDrumCount((count) => count + 1);\n    setDrumReward((drumReward) => drumReward + 1);\n  };\n\n  // eslint-disable-next-line\n  const updateDrumCount = useCallback(\n    _.throttle(() => {\n      if (toUpdateCountRef.current) {\n        firebaseUpdateDrumCount(toUpdateCountRef.current, activeAccount ? activeAccount.address : tempId);\n        toUpdateCountRef.current = 0;\n      }\n    }, 3000),\n    [activeAccount]\n  );\n\n  async function unsync() {\n    setActiveAccount(await dAppClient.getActiveAccount())\n    if (activeAccount) {\n      // User already has account connected, everything is ready\n      dAppClient.clearActiveAccount().then(async () => {\n        setActiveAccount(await dAppClient.getActiveAccount())\n        setSynced('sync');\n        setShowUnsync(false);\n        setDrumReward(0);\n      });\n    }\n  }\n\n  async function sync() {\n    setActiveAccount(await dAppClient.getActiveAccount())\n    //Already connected\n    if (activeAccount) {\n      setSynced(activeAccount.address)\n      setShowUnsync(true);\n      getDomain(activeAccount.address);\n\n      //A call for sending rewards to real account from the temporaray one \n      const updatedBalance = (await syncRewards(tempId, permissions.address)).updatedBalance;\n      console.log(updatedBalance)\n      setDrumReward(updatedBalance);\n      return activeAccount;\n    }\n    // The user is not synced yet\n    else {\n      try {\n        console.log(\"Requesting permissions...\");\n        const permissions = await dAppClient.requestPermissions();\n        setActiveAccount(await dAppClient.getActiveAccount())\n        console.log(\"Got permissions:\", permissions.address);\n        setSynced(permissions.address)\n        setShowUnsync(true);\n\n        getDomain(permissions.address);\n\n        //A call for sending rewards to real account from the temporaray one \n        const updatedBalance = (await syncRewards(tempId, permissions.address)).updatedBalance;\n        console.log(updatedBalance)\n        setDrumReward(updatedBalance);\n\n        getDrumCount(permissions.address).then((res) => {\n          if (res) {\n            setDrumCount(res.count);\n            setDrumReward(res.claim);\n          }\n        });\n\n      }\n      catch (error) {\n        console.log(\"Got error:\", error);\n      }\n    }\n  }\n\n  async function claimRewards() {\n\n    enqueueSnackbar(\"Sending \" + drumReward + \" DRUM !\", {\n      variant: \"default\",\n    });\n\n    let newTransaction = { message: \"Sending Claim DRUM Request\", link: \"\", color: \"black\" }\n    setTransactions((transaction) => transaction.concat(newTransaction));\n\n    const result = await claim(activeAccount ? activeAccount.address : tempId);\n    if (result.success) {\n      enqueueSnackbar(<div onClick={() => { window.open(result.message); }} > hash:  {result.message}  </div>, {\n        variant: \"success\",\n      });\n      setTransactions((transaction) => transaction.concat({ message: \"Recieved \" + result.amount + \" DRUM !\", link: result.message, color: \"green\" }));\n    } else {\n      enqueueSnackbar(result.message, {\n        variant: \"error\",\n      });\n      setTransactions((transaction) => transaction.concat({ message: \"Failed Transaction\", link: \"\", color: \"red\" }));\n    }\n    setDrumReward(0);\n  }\n\n  const next = () => {\n    if (playlist!.length === 0) {\n      return;\n    }\n    else if (currentIndex === playlist!.length - 1) {\n      setCurrentIndex(0);\n    }\n    else {\n      setCurrentIndex(currentIndex + 1);\n    }\n  };\n\n  const onChangeInput = (event: React.ChangeEvent<HTMLInputElement>) => {\n    setInputValue(event.target.value);\n  };\n\n  const onKeyPressChat = async (event: React.KeyboardEvent<HTMLInputElement>) => {\n    if (event.key === 'Enter') {\n      try {\n        const result = await dAppClient.requestOperation({\n          operationDetails: [\n            {\n              kind: TezosOperationType.TRANSACTION,\n              amount: \"0\",\n              destination: \"KT194J9NAhWX6PbZzfkL7Fp1ZpN5fndXe3et\",\n              parameters: {\n                entrypoint: \"default\",\n                value: {\n                  string: inputValue,\n                },\n              },\n            },\n          ],\n        });\n\n        console.log(result);\n        setInputValue(\"\");\n        setShowInput(false);\n\n        enqueueSnackbar(<div onClick={() => { window.open(result.transactionHash); }} > Changed the message ! </div>, {\n          variant: \"success\",\n        });\n\n        let newTransaction = { message: \"Changed the message !\", link: \"https://tzkt.io/\" + result.transactionHash, color: \"green\" }\n        setTransactions((transaction) => transaction.concat(newTransaction));\n      } catch (error) {\n        console.log(error);\n        enqueueSnackbar(result.message, {\n          variant: error.toString(),\n        });\n        /*console.log(\n          `The contract call failed and the following error was returned:`,\n          error?.data[1]?.with?.string\n        );*/\n      }\n\n    }\n  };\n\n  return (\n    <div\n      className=\"app-container\"\n      style={{ minHeight: window.innerHeight, overflowX: \"hidden\", overflowY: \"hidden\", backgroundColor: bgColors[bgColor] }}\n\n    >\n      <Cursor avatar={avatar} userCursorRef={userCursorRef} username={username} />\n\n      <audio src={drumBeat} ref={audioRef} autoPlay muted />\n      <audio src={playlist[currentIndex].url} ref={musicRef} autoPlay onEnded={next} />\n      {userLocations && Object.entries(userLocations).map(([key]) => (\n        <Cursors x={userLocations[key].x} y={userLocations[key].y} avatar={userLocations[key].avatar} username={userLocations[key].username} />\n      )\n      )\n      }\n      <div className=\"top-left\" style={{ fontSize: isMobile ? \"1em\" : \"1.5em\", display: \"flex\", alignItems: \"center\" }} >\n        drum\n\n        <div style={{ paddingInline: 20 }}>\n          <Select\n            value={version}\n            label=\"version\"\n            onChange={handleChange}\n          >\n            <MenuItem value={1}> {versionNames[1]}</MenuItem>\n            <MenuItem value={2}> {versionNames[2]}</MenuItem>\n            <MenuItem value={3}> {versionNames[3]}</MenuItem>\n            <MenuItem value={4}> {versionNames[4]}</MenuItem>\n            <MenuItem value={5}> {versionNames[5]}</MenuItem>\n          </Select>\n        </div>\n\n        <img\n          alt=\"status\"\n          title={\"operational, alpha \" + versionNames[version]}\n          src={greenDot}\n          width={isMobile ? 12 : 15}\n          height={isMobile ? 12 : 15}\n        />\n      </div>\n\n      <div className=\"top-middle\">\n        {version === 3 &&\n          <>\n            {message}\n            <Button title={\"change\"} size={isMobile ? \"small\" : \"medium\"} onClick={async () => { setShowInput(!showInput) }} >  Change  </Button>\n            <br></br>\n            {showInput &&\n              <TextField\n                id=\"standard-basic\"\n                label=\"Change the message in blockchain\"\n                variant=\"standard\"\n                fullWidth\n                value={inputValue}\n                onChange={onChangeInput}\n                onKeyPress={onKeyPressChat}\n              />\n            }\n          </>\n        }\n      </div>\n\n\n      {drumCount >= 0 && <div className=\"top-right\" style={{ fontSize: isMobile ? \"1em\" : \"1.5em\", textAlign: \"end\" }}>\n        <div style={{ textAlign: \"end\", paddingRight: \"10px\", paddingTop: \"10px\" }}> {drumCount} </div>\n      </div>}\n\n      <img\n        ref={drumRef}\n        onClick={onClickDrum}\n        alt=\"drum\"\n        src={drum}\n        className=\"drum\"\n      />\n      {!hasClickedDrum && <div>Click the drum!</div>}\n\n      <TransitionGroup>\n        {notes.map((note) => (\n          <CSSTransition\n            key={note.key}\n            timeout={1000}\n            classNames=\"note-transition\"\n            onEntered={() => {\n              const noteIndex = notes.findIndex(\n                (_note) => _note.key === note.key\n              );\n              setNotes([\n                ...notes.slice(0, noteIndex),\n                ...notes.slice(noteIndex + 1),\n              ]);\n            }}\n          >\n            <img\n              alt=\"music note\"\n              src={musicNote}\n              className=\"music-note\"\n              style={{\n                top: noteCoords.top,\n                left: noteCoords.left,\n              }}\n            />\n          </CSSTransition>\n        ))}\n      </TransitionGroup>\n\n      <div className=\"bottom-left\" >\n        <Button title={\"Adventure Networks\"} size={isMobile ? \"small\" : \"medium\"} onClick={() => { }} >  <div style={{ textAlign: \"left\" }}> Adventure <br></br>Networks </div> </Button>\n      </div>\n\n      <div className=\"bottom-middle\">\n        {\n          version === 3 &&\n          <div style={{ textAlign: \"center\" }}>\n            Currently playing: {playlist[currentIndex].name}\n          </div>\n        }\n      </div>\n\n      <div className=\"bottom\" style={{ position: \"absolute\" }} >\n        {(version === 4 || version === 5) &&\n          <div   >\n            {showPanel &&\n              <div className=\"panel\" style={{ display: \"flex\", width: \"100%\", overflowY: \"auto\", marginBottom: 110 }}>\n                {collections &&\n                  collections.map(({ token }) => (\n                    <IconButton\n                      key={token.id}\n                      onClick={() => {\n                        setAvatar(HashToURL(token.display_uri, 'IPFS'));\n                        socket.emit('avatar', HashToURL(token.display_uri, 'IPFS'));\n                        setProfile(activeAccount.address, username, HashToURL(token.display_uri, 'IPFS'));\n                      }}\n                    >\n                      <Avatar variant=\"rounded\" src={HashToURL(token.display_uri, 'IPFS')} alt={token.id} className={classes.sizeBig} />\n\n                    </IconButton>\n                  ))\n                }\n              </div>\n            }\n          </div>}\n      </div>\n      <div className=\"bottom-right\">\n\n        {showTransactions && <div style={{ border: \"solid 1px\", marginRight: 10, height: isMobile ? 180 : 400, overflowY: \"auto\", fontSize: isMobile ? \"0.9em\" : \"1.3em\", backgroundColor: \"white\" }}>\n          <div style={{ display: \"flex\", alignItems: \"center\", justifyContent: \"center\" }}>\n            <div style={{ width: 64, height: 10 }}></div>\n\n            Transactions List\n\n            <Button title={\"transactions\"} size={isMobile ? \"small\" : \"medium\"} onClick={async () => { setShowTransactions(false) }} > X </Button>\n\n          </div>\n          {transactions &&\n            transactions.slice(0).reverse().map((transaction, index) => (\n              <div key={index.toString()}>\n                {\n                  <Button\n                    variant=\"outlined\"\n                    onClick={() => {\n                      if (transaction.link) {\n                        window.open(transaction.link);\n                      }\n                    }}\n                    style={{ width: \"100%\", color: transaction.color }}\n                  >\n                    {transaction.message}\n                  </Button>\n                }\n              </div>\n            ))}\n        </div>\n        }\n        <div style={{ display: \"flex\", justifyContent: \"flex-end\" }}>\n          {showUnsync ?\n            <Button title={\"claim\"} size={isMobile ? \"small\" : \"medium\"} onClick={async () => { await claimRewards(); }} >  Claim {drumReward} DRUM  </Button>\n            : <div style={{ fontSize: isMobile ? \"0.8em\" : \"0.8em\", marginRight: 12 }}> sync to claim {drumReward} DRUM </div>\n          }\n        </div>\n        <div style={{ fontSize: isMobile ? \"0.8em\" : \"1em\", textAlign: \"end\", paddingRight: \"10px\" }}> Balance: {drumBalance} DRUM </div>\n        <div style={{ display: \"flex\", alignItems: \"center\", justifyContent: \"flex-end\" }}>\n          {version === 2 &&\n            <div title={\"mute/unmute\"} style={{ padding: isMobile ? 0 : 10 }}\n              onClick={() => {\n                if (isPlaying) {\n                  musicRef.current.pause()\n                }\n                else {\n                  musicRef.current.play()\n                }\n                setIsPlaying(!isPlaying);\n              }}\n            >\n              <img\n                alt=\"play / mute\"\n                title={\"play\"}\n                src={isPlaying ? soundOn : soundOff}\n                width={isMobile ? 16 : 20}\n                height={isMobile ? 16 : 20}\n              />\n            </div>\n          }\n          {showUnsync && <Button size={isMobile ? \"small\" : \"medium\"} title={\"unsync\"} onClick={() => { unsync() }} ><u>unsync</u> </Button>}\n\n          {showUnsync && <div> | </div>}\n          <Button title={\"sync\"} size={isMobile ? \"small\" : \"medium\"} onClick={async () => { await sync(); }} ><u>{synced}</u> </Button>\n          |\n          <Button title={\"transactions\"} size={isMobile ? \"small\" : \"medium\"} onClick={async () => { setShowTransactions(!showTransactions) }} > <img style={{ width: 20 }} alt=\"transactions\" src={scroll} /> </Button>\n          {showUnsync && <><div> | </div>\n            <Button size={isMobile ? \"small\" : \"medium\"} title={\"unsync\"} onClick={() => { setShowPanel(!showPanel) }} >\n              <Avatar variant=\"rounded\" src={avatar} alt=\"change avatar\" className={classes.sizeSmall} />\n            </Button>\n          </>\n          }\n        </div>\n\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n\nconst query_collection = `\nquery collectorGallery($address: String!) {\n  hic_et_nunc_token_holder(where: {holder_id: {_eq: $address}, token: {creator: {address: {_neq: $address}}}, quantity: {_gt: \"0\"}}, order_by: {token_id: desc}) {\n\ttoken {\n\t  id\n\t  artifact_uri\n\t  display_uri\n\t  thumbnail_uri\n\t  timestamp\n\t  mime\n\t  title\n\t  description\n\t  supply\n\t  royalties\n\t  creator {\n\t\taddress\n\t  }\n\t}\n  }\n}\n`\n","export default \"data:image/png;base64,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\"","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);  \n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n}\n\nexport default reportWebVitals;\n","// @ts-nocheck\nimport React, { useEffect, useState, useContext } from 'react';\nimport { Card, Button } from \"@material-ui/core\";\nimport { FirebaseContext } from \"./firebaseContext\";\nimport { v4 as uuidv4 } from \"uuid\";\n\n\n\nexport const Analytics = () => {\n    const [todays, setTodays] = useState();\n    const [lastWeek, setlastWeek] = useState();\n    const [lastMonth, setlastMonth] = useState();\n\n    const { getVisit } = useContext(FirebaseContext);\n\n    useEffect(() => {\n        async function fetchVisits() {\n            const start = 1650574800000; //april 21 \n            const dayInterval = 86400000;\n            let timestamp = Date.now();\n\n            let dayIndex = (Math.floor((timestamp - start) / dayInterval)).toString();\n\n            let result = await getVisit();\n\n            let tempWeek = 0;\n            let tempMonth = 0;\n\n            result.forEach(element => {\n                console.log(element.id)\n                console.log(element.data)\n                if (dayIndex === element.id) {\n                    setTodays(element.data.visits)\n                }\n                if (dayIndex - element.id >= 0 && dayIndex - element.id < 7) {\n                    tempWeek += element.data.visits;\n                }\n                if (dayIndex - element.id >= 0 && dayIndex - element.id < 30) {\n                    tempMonth += element.data.visits;\n                }\n            });\n            setlastWeek(tempWeek);\n            setlastMonth(tempMonth)\n\n\n\n        }\n        fetchVisits();\n\n    }, []);\n\n    return (\n        <div style={{\n            height: \"100vh\"\n            //, backgroundColor: \"gray\" \n        }}>\n            Hello World\n            <br></br>\n            <h1>Visits</h1>\n            Todays: {todays}\n            <br></br>\n            Last 7 days: {lastWeek}\n            <br></br>\n            Last 30 days: {lastMonth}\n        </div>\n    );\n}\n\n","import \"./index.css\";\n\nimport App from \"./App\";\nimport { FirebaseProvider } from \"./firebaseContext\";\nimport React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { SnackbarProvider } from \"notistack\";\nimport reportWebVitals from \"./reportWebVitals\";\nimport { BrowserRouter, Routes, Route } from 'react-router-dom';\nimport { Analytics } from \"./Analytics\";\n\nReactDOM.render(\n  <BrowserRouter>\n    <FirebaseProvider>\n      <SnackbarProvider maxSnack={3}>\n        <Routes>\n          <Route path=\"/Analytics\" element={<Analytics />}>\n          </Route>\n          <Route path='/' element={<App />}>\n          </Route>\n\n        </Routes>\n      </SnackbarProvider>\n    </FirebaseProvider>\n  </BrowserRouter>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}